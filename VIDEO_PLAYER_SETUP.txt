â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         VIDEO PLAYER SETUP COMPLETE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IMPLEMENTATION: Professional video player using Plyr for DanceHub

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ INSTALLED PACKAGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ plyr@3.8.3                    - Core video player library
âœ“ plyr-react@5.3.0              - React wrapper for Plyr

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ CREATED FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Core Components:
  âœ“ src/components/video/video-player.tsx
    - Main video player component with Plyr integration
    - Support for multiple video qualities
    - Captions/subtitles support
    - Full event handling
    - Custom Plyr options

  âœ“ src/components/video/video-player-card.tsx
    - Card-wrapped video player for better UX
    - Title and description support

  âœ“ src/components/video/index.ts
    - Clean exports

Hooks:
  âœ“ src/hooks/use-video-player.hook.ts
    - Hook for programmatic player control
    - State management (play, pause, seek, volume, etc.)
    - Progress tracking

Types:
  âœ“ src/types/video.type.ts
    - Video metadata types
    - Quality and caption interfaces
    - Upload progress tracking

Utils:
  âœ“ src/utils/video.util.ts
    - Video URL helpers
    - Format duration and file size
    - Quality detection
    - R2 URL builder

Course Integration:
  âœ“ src/features/courses/components/lesson-video-player.tsx
    - Course-specific video player
    - Progress tracking with visual feedback
    - Completion detection (90% threshold)
    - Custom controls for lessons

  âœ“ src/features/courses/components/course-lesson-example.tsx
    - Complete lesson example with navigation
    - Progress display
    - Next/Previous lesson buttons

  âœ“ src/features/courses/hooks/use-lesson-progress.hook.ts
    - Lesson progress state management
    - LocalStorage persistence
    - API sync for progress

  âœ“ src/features/courses/components/index.ts
  âœ“ src/features/courses/hooks/index.ts
    - Clean exports

Demo:
  âœ“ src/app/(demo)/video-player-demo/page.tsx
    - Complete demo with examples
    - Multiple quality demo
    - Custom controls showcase
    - Usage examples

Styling:
  âœ“ src/app/globals.css (updated)
    - Plyr theme integration with Tailwind
    - Dark mode support
    - Custom Plyr styling

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¨ FEATURES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Professional UI with Plyr
âœ“ Multiple video qualities (adaptive)
âœ“ Playback speed control (0.5x - 2x)
âœ“ Subtitles/Captions support
âœ“ Picture-in-Picture (PIP)
âœ“ AirPlay support
âœ“ Fullscreen mode
âœ“ Keyboard shortcuts
âœ“ Touch-friendly controls
âœ“ Accessibility (WCAG compliant)
âœ“ Progress tracking
âœ“ Custom event handlers
âœ“ Dark mode support
âœ“ Loading states
âœ“ Responsive design

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“– BASIC USAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Simple Video Player:

import { VideoPlayer } from '@/components/video';
import { createVideoSource } from '@/utils/video.util';

<VideoPlayer
  sources={createVideoSource('https://your-r2-domain.com/video.mp4')}
  poster="https://your-r2-domain.com/poster.jpg"
/>

2. Multiple Qualities:

<VideoPlayer
  sources={[
    { src: 'video_1080p.mp4', size: 1080 },
    { src: 'video_720p.mp4', size: 720 },
    { src: 'video_480p.mp4', size: 480 },
  ]}
/>

3. With Captions:

<VideoPlayer
  sources={createVideoSource(videoUrl)}
  tracks={[
    {
      kind: 'subtitles',
      label: 'English',
      srclang: 'en',
      src: captionsUrl,
      default: true,
    },
  ]}
/>

4. Course Lesson Example:

import { LessonVideoPlayer } from '@/features/courses/components';

<LessonVideoPlayer
  lessonId={lesson.id}
  videoUrl={lesson.videoUrl}
  posterUrl={lesson.posterUrl}
  title={lesson.title}
  onComplete={() => console.log('Lesson completed!')}
  onProgress={(progress) => console.log(`Progress: ${progress}%`)}
/>

5. With Custom Controls:

import { useVideoPlayer } from '@/hooks/use-video-player.hook';

const { state, controls, handlers } = useVideoPlayer();

<VideoPlayer sources={...} {...handlers} />
<button onClick={controls.play}>Play</button>
<button onClick={controls.pause}>Pause</button>

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”— R2 INTEGRATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your existing R2 storage is perfect for this setup:

Backend Structure:
  âœ“ Storage service handles video uploads
  âœ“ Video processor service (already implemented)
  âœ“ Thumbnail generation for videos
  âœ“ Metadata storage

Recommended API Endpoints:
  GET  /api/videos/:id              - Get video with all qualities
  GET  /api/videos/:id/signed-url   - Get signed URL for private videos
  POST /api/videos/upload           - Upload new video
  PUT  /api/courses/:courseId/lessons/:lessonId/progress - Save progress

Storage Metadata Enhancement:
Add to your storage entity metadata:
{
  "videoMetadata": {
    "duration": 125.5,
    "width": 1920,
    "height": 1080,
    "qualities": [
      { "resolution": 1080, "storageId": "uuid-1080", "url": "..." },
      { "resolution": 720, "storageId": "uuid-720", "url": "..." }
    ],
    "subtitles": [
      { "language": "en", "storageId": "uuid-en", "url": "..." }
    ]
  }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ NEXT STEPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Test the Demo:
   Visit: /video-player-demo
   See all features in action

2. Backend Integration:
   - Create video endpoints in your API
   - Add video processing for multiple qualities (optional)
   - Implement progress tracking endpoint

3. Course Module:
   When ready, use the course components:
   - LessonVideoPlayer for individual lessons
   - CourseLessonExample for complete lesson pages
   - useLessonProgress for progress tracking

4. Future Enhancements (Optional):
   - HLS streaming for very large videos
   - Timeline thumbnail previews
   - Video analytics
   - DRM for premium content
   - CDN optimization

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ WHY PLYR?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Lightweight (19KB gzipped)
âœ“ Highly customizable
âœ“ Accessible (WCAG AA compliant)
âœ“ Works with R2 direct URLs
âœ“ No vendor lock-in
âœ“ Production-ready
âœ“ Excellent documentation
âœ“ Active maintenance
âœ“ Framework agnostic
âœ“ Mobile optimized

vs next-video:
  - next-video is great but opinionated
  - Designed for Mux (adds costs)
  - Manages storage (you already have R2)
  - More complex for your use case

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ¨ BENEFITS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Professional video experience
âœ“ Scales with your growth
âœ“ Cost-effective (just R2 storage)
âœ“ Easy to use and maintain
âœ“ Extensible for future features
âœ“ Perfect for course content
âœ“ Clean, modern UI
âœ“ Works on all devices

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“š DOCUMENTATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Plyr Docs: https://plyr.io
R2 Docs: https://developers.cloudflare.com/r2
Internal: Check the demo page for more examples

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

